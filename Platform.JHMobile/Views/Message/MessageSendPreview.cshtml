@using Platform.JHMobile.Models

@model MessageSendObject

@{
    ViewBag.Title = "信息详情";
}

<link href="~/Content/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
<link href="~/Content/sb-admin-2/css/sb-admin-2.css" rel="stylesheet" />
<script src="~/Content/sb-admin-2/js/sb-admin-2.js"></script>

<div class="container">
    <div class="row">
        <div class="col-xs-6">
            <div class="btn btn-warning" type="button" onclick="home();">
                <i class="fa fa-home fa-lg"></i>
            </div>
            <div class="btn btn-warning" type="button" onclick="back();">
                <i class="fa fa-reply fa-lg"></i>
            </div>
        </div>
    </div>
    <div class="row">&nbsp;</div>
    <div class="row">
        <div class="col-md-12"><strong>信息标题</strong></div>
        <div class="col-md-12">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Model.Object.SendTitle</div>
        <div class="col-md-12"><strong>部门人员</strong></div>
        <div class="col-md-12">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Model.Object.DeptName&nbsp;&nbsp;-&nbsp;&nbsp;@Model.Object.UserName</div>
        <div class="col-md-12"><strong>分发时间</strong></div>
        <div class="col-md-12">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Model.Object.AppG_Begintime.Value.ToString("yyyy-MM-dd HH:mm:ss")</div>
        <div class="col-md-12"><strong>公文类型</strong></div>
        <div class="col-md-12">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Model.Object.ArchivesTypeName</div>
        <div class="col-md-12"><strong>文件类型</strong></div>
        <div class="col-md-12">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Model.Object.TypeName</div>
        <div class="col-md-12"><strong>主送机关</strong></div>
        <div class="col-md-12">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Model.Object.SendZsdw</div>
        <div class="col-md-12"><strong>主题词</strong></div>
        <div class="col-md-12">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Model.Object.SendKey</div>
        <div class="col-md-12"><strong>信息正文</strong></div>
        <div class="col-md-12">
            @{
                if (!string.IsNullOrEmpty(ViewBag.PDF))
                {
                    <input id="pdfPath" type="hidden" value="@string.Format("../../{0}", ViewBag.PDF.Replace(DingTalk.CorpJinHer, "").Replace("\\", "/"))" />
                    <iframe id="viewer" style="width: 100%; height: 389px;" src="~/PDFViewer/web/viewer.html"></iframe>
                }
            }
        </div>
        @*@{
            if (Model.List.Count > 0)
            {
                <div class="col-md-12"><strong>信息附件：</strong></div>
                foreach (var file in Model.List)
                {
                    <div class="col-md-12">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a target="_blank" href="@(DingTalk.CorpUrl + file.FilePath.Substring(3).Replace("__", "h__"))">@file.FileName</a></div>
                }
            }
        }*@
        <div class="col-md-12"><strong>已阅人员</strong></div>
        <div class="col-md-12">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ViewBag.PeopleRead</div>
    </div>
    <div class="row">&nbsp;</div>
    <div class="row">
        <div class="col-md-12 text-right">
            <div class="btn btn-warning" type="button" onclick="read();">
                已阅
            </div>
        </div>
    </div>
</div>

<script>
    function back() {
        window.location = corp_url + 'Message/Message';
    }

    function home() {
        window.location = corp_url + 'Ding/Home';
    }

    function read() {
        window.location = corp_url + 'Message/DoMessageReadDone/@ViewBag.GiveOutId';
    }
</script>
